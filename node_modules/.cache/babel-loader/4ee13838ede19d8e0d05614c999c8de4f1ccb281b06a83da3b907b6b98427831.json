{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Domenico\\\\Desktop\\\\CorsoFullStackEpicode\\\\mese3\\\\sett2\\\\g1\\\\esercizio\\\\src\\\\components\\\\AddComment.jsx\";\nimport { Component } from 'react';\nimport { Button, Form } from 'react-bootstrap';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass AddComment extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      comment: {\n        comment: '',\n        rate: 1,\n        elementId: this.props.asin\n      }\n    };\n    this.sendComment = async e => {\n      e.preventDefault();\n      try {\n        let response = await fetch('https://striveschool-api.herokuapp.com/api/comments', {\n          method: 'POST',\n          body: JSON.stringify(this.state.comment),\n          headers: {\n            'Content-type': 'application/json',\n            Authorization: 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2NTg0MmJkMWI1MjViYjAwMThlZDA3YjAiLCJpYXQiOjE3MDMxNjA3ODUsImV4cCI6MTcwNDM3MDM4NX0.hPuw6zmzOPFeijuIZWkvyt-vMT8yAYe4u1mSHcgb0Qo'\n          }\n        });\n        if (response.ok) {\n          alert('Comment was sent!');\n          this.setState({\n            comment: {\n              comment: '',\n              rate: 1,\n              elementId: this.props.asin\n            }\n          });\n        } else {\n          console.log('error');\n          alert('something went wrong');\n        }\n      } catch (error) {\n        console.log('error');\n      }\n    };\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"my-3\",\n      children: /*#__PURE__*/_jsxDEV(Form, {\n        onSubmit: this.sendComment,\n        children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"Comment text\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"text\",\n            placeholder: \"Add comment here\",\n            value: this.state.comment.comment,\n            onChange: e => this.setState({\n              comment: {\n                ...this.state.comment,\n                comment: e.target.value\n              }\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"Rating\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            as: \"select\",\n            value: this.state.comment.rate,\n            onChange: e => this.setState({\n              comment: {\n                ...this.state.comment,\n                rate: e.target.value\n              }\n            }),\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              children: \"1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              children: \"2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              children: \"3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              children: \"4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              children: \"5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"primary\",\n          type: \"submit\",\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default AddComment;","map":{"version":3,"names":["Component","Button","Form","AddComment","state","comment","rate","elementId","props","asin","sendComment","e","preventDefault","response","fetch","method","body","JSON","stringify","headers","Authorization","ok","alert","setState","console","log","error","render","target","value"],"sources":["C:/Users/Domenico/Desktop/CorsoFullStackEpicode/mese3/sett2/g1/esercizio/src/components/AddComment.jsx"],"sourcesContent":["import { Component } from 'react'\r\nimport { Button, Form } from 'react-bootstrap'\r\n\r\nclass AddComment extends Component {\r\n  state = {\r\n    comment: {\r\n      comment: '',\r\n      rate: 1,\r\n      elementId: this.props.asin,\r\n    },\r\n  }\r\n\r\n  sendComment = async (e) => {\r\n    e.preventDefault()\r\n    try {\r\n      let response = await fetch(\r\n        'https://striveschool-api.herokuapp.com/api/comments',\r\n        {\r\n          method: 'POST',\r\n          body: JSON.stringify(this.state.comment),\r\n          headers: {\r\n            'Content-type': 'application/json',\r\n            Authorization: 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2NTg0MmJkMWI1MjViYjAwMThlZDA3YjAiLCJpYXQiOjE3MDMxNjA3ODUsImV4cCI6MTcwNDM3MDM4NX0.hPuw6zmzOPFeijuIZWkvyt-vMT8yAYe4u1mSHcgb0Qo',\r\n          },\r\n        }\r\n      )\r\n      if (response.ok) {\r\n        alert('Comment was sent!')\r\n        this.setState({\r\n          comment: {\r\n            comment: '',\r\n            rate: 1,\r\n            elementId: this.props.asin,\r\n          },\r\n        })\r\n      } else {\r\n        console.log('error')\r\n        alert('something went wrong')\r\n      }\r\n    } catch (error) {\r\n      console.log('error')\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"my-3\">\r\n        <Form onSubmit={this.sendComment}>\r\n          <Form.Group>\r\n            <Form.Label>Comment text</Form.Label>\r\n            <Form.Control\r\n              type=\"text\"\r\n              placeholder=\"Add comment here\"\r\n              value={this.state.comment.comment}\r\n              onChange={(e) =>\r\n                this.setState({\r\n                  comment: {\r\n                    ...this.state.comment,\r\n                    comment: e.target.value,\r\n                  },\r\n                })\r\n              }\r\n            />\r\n          </Form.Group>\r\n          <Form.Group>\r\n            <Form.Label>Rating</Form.Label>\r\n            <Form.Control\r\n              as=\"select\"\r\n              value={this.state.comment.rate}\r\n              onChange={(e) =>\r\n                this.setState({\r\n                  comment: {\r\n                    ...this.state.comment,\r\n                    rate: e.target.value,\r\n                  },\r\n                })\r\n              }\r\n            >\r\n              <option>1</option>\r\n              <option>2</option>\r\n              <option>3</option>\r\n              <option>4</option>\r\n              <option>5</option>\r\n            </Form.Control>\r\n          </Form.Group>\r\n          <Button variant=\"primary\" type=\"submit\">\r\n            Submit\r\n          </Button>\r\n        </Form>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default AddComment\r\n"],"mappings":";AAAA,SAASA,SAAS,QAAQ,OAAO;AACjC,SAASC,MAAM,EAAEC,IAAI,QAAQ,iBAAiB;AAAA;AAE9C,MAAMC,UAAU,SAASH,SAAS,CAAC;EAAA;IAAA;IAAA,KACjCI,KAAK,GAAG;MACNC,OAAO,EAAE;QACPA,OAAO,EAAE,EAAE;QACXC,IAAI,EAAE,CAAC;QACPC,SAAS,EAAE,IAAI,CAACC,KAAK,CAACC;MACxB;IACF,CAAC;IAAA,KAEDC,WAAW,GAAG,MAAOC,CAAC,IAAK;MACzBA,CAAC,CAACC,cAAc,EAAE;MAClB,IAAI;QACF,IAAIC,QAAQ,GAAG,MAAMC,KAAK,CACxB,qDAAqD,EACrD;UACEC,MAAM,EAAE,MAAM;UACdC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC,IAAI,CAACd,KAAK,CAACC,OAAO,CAAC;UACxCc,OAAO,EAAE;YACP,cAAc,EAAE,kBAAkB;YAClCC,aAAa,EAAE;UACjB;QACF,CAAC,CACF;QACD,IAAIP,QAAQ,CAACQ,EAAE,EAAE;UACfC,KAAK,CAAC,mBAAmB,CAAC;UAC1B,IAAI,CAACC,QAAQ,CAAC;YACZlB,OAAO,EAAE;cACPA,OAAO,EAAE,EAAE;cACXC,IAAI,EAAE,CAAC;cACPC,SAAS,EAAE,IAAI,CAACC,KAAK,CAACC;YACxB;UACF,CAAC,CAAC;QACJ,CAAC,MAAM;UACLe,OAAO,CAACC,GAAG,CAAC,OAAO,CAAC;UACpBH,KAAK,CAAC,sBAAsB,CAAC;QAC/B;MACF,CAAC,CAAC,OAAOI,KAAK,EAAE;QACdF,OAAO,CAACC,GAAG,CAAC,OAAO,CAAC;MACtB;IACF,CAAC;EAAA;EAEDE,MAAM,GAAG;IACP,oBACE;MAAK,SAAS,EAAC,MAAM;MAAA,uBACnB,QAAC,IAAI;QAAC,QAAQ,EAAE,IAAI,CAACjB,WAAY;QAAA,wBAC/B,QAAC,IAAI,CAAC,KAAK;UAAA,wBACT,QAAC,IAAI,CAAC,KAAK;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QAA0B,eACrC,QAAC,IAAI,CAAC,OAAO;YACX,IAAI,EAAC,MAAM;YACX,WAAW,EAAC,kBAAkB;YAC9B,KAAK,EAAE,IAAI,CAACN,KAAK,CAACC,OAAO,CAACA,OAAQ;YAClC,QAAQ,EAAGM,CAAC,IACV,IAAI,CAACY,QAAQ,CAAC;cACZlB,OAAO,EAAE;gBACP,GAAG,IAAI,CAACD,KAAK,CAACC,OAAO;gBACrBA,OAAO,EAAEM,CAAC,CAACiB,MAAM,CAACC;cACpB;YACF,CAAC;UACF;YAAA;YAAA;YAAA;UAAA,QACD;QAAA;UAAA;UAAA;UAAA;QAAA,QACS,eACb,QAAC,IAAI,CAAC,KAAK;UAAA,wBACT,QAAC,IAAI,CAAC,KAAK;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QAAoB,eAC/B,QAAC,IAAI,CAAC,OAAO;YACX,EAAE,EAAC,QAAQ;YACX,KAAK,EAAE,IAAI,CAACzB,KAAK,CAACC,OAAO,CAACC,IAAK;YAC/B,QAAQ,EAAGK,CAAC,IACV,IAAI,CAACY,QAAQ,CAAC;cACZlB,OAAO,EAAE;gBACP,GAAG,IAAI,CAACD,KAAK,CAACC,OAAO;gBACrBC,IAAI,EAAEK,CAAC,CAACiB,MAAM,CAACC;cACjB;YACF,CAAC,CACF;YAAA,wBAED;cAAA;YAAA;cAAA;cAAA;cAAA;YAAA,QAAkB,eAClB;cAAA;YAAA;cAAA;cAAA;cAAA;YAAA,QAAkB,eAClB;cAAA;YAAA;cAAA;cAAA;cAAA;YAAA,QAAkB,eAClB;cAAA;YAAA;cAAA;cAAA;cAAA;YAAA,QAAkB,eAClB;cAAA;YAAA;cAAA;cAAA;cAAA;YAAA,QAAkB;UAAA;YAAA;YAAA;YAAA;UAAA,QACL;QAAA;UAAA;UAAA;UAAA;QAAA,QACJ,eACb,QAAC,MAAM;UAAC,OAAO,EAAC,SAAS;UAAC,IAAI,EAAC,QAAQ;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QAE9B;MAAA;QAAA;QAAA;QAAA;MAAA;IACJ;MAAA;MAAA;MAAA;IAAA,QACH;EAEV;AACF;AAEA,eAAe1B,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}