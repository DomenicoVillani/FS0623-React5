{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Domenico\\\\Desktop\\\\CorsoFullStackEpicode\\\\mese3\\\\sett2\\\\g1\\\\esercizio\\\\src\\\\components\\\\CommentArea.jsx\";\nimport { Component } from 'react';\nimport CommentList from './CommentList';\nimport AddComment from './AddComment';\nimport Loading from './Loading';\nimport Error from './Error';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass CommentArea extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      comments: [],\n      isLoading: true,\n      isError: false\n    };\n    this.componentDidMount = async () => {\n      try {\n        let response = await fetch('https://striveschool-api.herokuapp.com/api/comments/' + this.props.asin, {\n          headers: {\n            Authorization: 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2NTliZjRkOGUwZGQxZDAwMTgyZDE3MTUiLCJpYXQiOjE3MDQ3MTk1NzYsImV4cCI6MTcwNTkyOTE3Nn0.Vh-RK1DiN7_aGG6BMW_sK8GICNX8fcEVgfGlwz6IAs0'\n          }\n        });\n        console.log(response);\n        if (response.ok) {\n          let comments = await response.json();\n          this.setState({\n            comments: comments,\n            isLoading: false,\n            isError: false\n          });\n        } else {\n          console.log('error');\n          this.setState({\n            isLoading: false,\n            isError: true\n          });\n        }\n      } catch (error) {\n        console.log(error);\n        this.setState({\n          isLoading: false,\n          isError: true\n        });\n      }\n    };\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center\",\n      children: [this.state.isLoading && /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 34\n      }, this), this.state.isError && /*#__PURE__*/_jsxDEV(Error, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 32\n      }, this), /*#__PURE__*/_jsxDEV(AddComment, {\n        asin: this.props.asin\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(CommentList, {\n        commentsToShow: this.state.comments\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default CommentArea;","map":{"version":3,"names":["Component","CommentList","AddComment","Loading","Error","CommentArea","state","comments","isLoading","isError","componentDidMount","response","fetch","props","asin","headers","Authorization","console","log","ok","json","setState","error","render"],"sources":["C:/Users/Domenico/Desktop/CorsoFullStackEpicode/mese3/sett2/g1/esercizio/src/components/CommentArea.jsx"],"sourcesContent":["import { Component } from 'react'\r\nimport CommentList from './CommentList'\r\nimport AddComment from './AddComment'\r\nimport Loading from './Loading'\r\nimport Error from './Error'\r\n\r\nclass CommentArea extends Component {\r\n  state = {\r\n    comments: [],\r\n    isLoading: true,\r\n    isError: false,\r\n  }\r\n\r\n  componentDidMount = async () => {\r\n    try {\r\n      let response = await fetch(\r\n        'https://striveschool-api.herokuapp.com/api/comments/' +\r\n          this.props.asin,\r\n        {\r\n          headers: {\r\n            Authorization: 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2NTliZjRkOGUwZGQxZDAwMTgyZDE3MTUiLCJpYXQiOjE3MDQ3MTk1NzYsImV4cCI6MTcwNTkyOTE3Nn0.Vh-RK1DiN7_aGG6BMW_sK8GICNX8fcEVgfGlwz6IAs0',\r\n          },\r\n        }\r\n      )\r\n      console.log(response)\r\n      if (response.ok) {\r\n        let comments = await response.json()\r\n        this.setState({ comments: comments, isLoading: false, isError: false })\r\n      } else {\r\n        console.log('error')\r\n        this.setState({ isLoading: false, isError: true })\r\n      }\r\n    } catch (error) {\r\n      console.log(error)\r\n      this.setState({ isLoading: false, isError: true })\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"text-center\">\r\n        {this.state.isLoading && <Loading />}\r\n        {this.state.isError && <Error />}\r\n        <AddComment asin={this.props.asin} />\r\n        <CommentList commentsToShow={this.state.comments} />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default CommentArea\r\n"],"mappings":";AAAA,SAASA,SAAS,QAAQ,OAAO;AACjC,OAAOC,WAAW,MAAM,eAAe;AACvC,OAAOC,UAAU,MAAM,cAAc;AACrC,OAAOC,OAAO,MAAM,WAAW;AAC/B,OAAOC,KAAK,MAAM,SAAS;AAAA;AAE3B,MAAMC,WAAW,SAASL,SAAS,CAAC;EAAA;IAAA;IAAA,KAClCM,KAAK,GAAG;MACNC,QAAQ,EAAE,EAAE;MACZC,SAAS,EAAE,IAAI;MACfC,OAAO,EAAE;IACX,CAAC;IAAA,KAEDC,iBAAiB,GAAG,YAAY;MAC9B,IAAI;QACF,IAAIC,QAAQ,GAAG,MAAMC,KAAK,CACxB,sDAAsD,GACpD,IAAI,CAACC,KAAK,CAACC,IAAI,EACjB;UACEC,OAAO,EAAE;YACPC,aAAa,EAAE;UACjB;QACF,CAAC,CACF;QACDC,OAAO,CAACC,GAAG,CAACP,QAAQ,CAAC;QACrB,IAAIA,QAAQ,CAACQ,EAAE,EAAE;UACf,IAAIZ,QAAQ,GAAG,MAAMI,QAAQ,CAACS,IAAI,EAAE;UACpC,IAAI,CAACC,QAAQ,CAAC;YAAEd,QAAQ,EAAEA,QAAQ;YAAEC,SAAS,EAAE,KAAK;YAAEC,OAAO,EAAE;UAAM,CAAC,CAAC;QACzE,CAAC,MAAM;UACLQ,OAAO,CAACC,GAAG,CAAC,OAAO,CAAC;UACpB,IAAI,CAACG,QAAQ,CAAC;YAAEb,SAAS,EAAE,KAAK;YAAEC,OAAO,EAAE;UAAK,CAAC,CAAC;QACpD;MACF,CAAC,CAAC,OAAOa,KAAK,EAAE;QACdL,OAAO,CAACC,GAAG,CAACI,KAAK,CAAC;QAClB,IAAI,CAACD,QAAQ,CAAC;UAAEb,SAAS,EAAE,KAAK;UAAEC,OAAO,EAAE;QAAK,CAAC,CAAC;MACpD;IACF,CAAC;EAAA;EAEDc,MAAM,GAAG;IACP,oBACE;MAAK,SAAS,EAAC,aAAa;MAAA,WACzB,IAAI,CAACjB,KAAK,CAACE,SAAS,iBAAI,QAAC,OAAO;QAAA;QAAA;QAAA;MAAA,QAAG,EACnC,IAAI,CAACF,KAAK,CAACG,OAAO,iBAAI,QAAC,KAAK;QAAA;QAAA;QAAA;MAAA,QAAG,eAChC,QAAC,UAAU;QAAC,IAAI,EAAE,IAAI,CAACI,KAAK,CAACC;MAAK;QAAA;QAAA;QAAA;MAAA,QAAG,eACrC,QAAC,WAAW;QAAC,cAAc,EAAE,IAAI,CAACR,KAAK,CAACC;MAAS;QAAA;QAAA;QAAA;MAAA,QAAG;IAAA;MAAA;MAAA;MAAA;IAAA,QAChD;EAEV;AACF;AAEA,eAAeF,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}